{"version":3,"file":"switch.js","sources":["../../src/shadcn-default/switch.js"],"sourcesContent":["export class Switch extends HTMLElement {\n    connectedCallback() {\n        const checked = this.hasAttribute('checked');\n        const disabled = this.hasAttribute('disabled');\n        const userClass = this.getAttribute('class') || '';\n\n        // Create the switch element\n        const switchElement = document.createElement('button');\n\n        // Set attributes and classes\n        switchElement.setAttribute('type', 'button');\n        switchElement.setAttribute('role', 'switch');\n        switchElement.setAttribute('aria-checked', checked);\n        switchElement.setAttribute('data-state', checked ? 'checked' : 'unchecked');\n        switchElement.setAttribute('value', checked ? 'on' : 'off');\n        switchElement.className = `peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input ${userClass}`.trim();\n\n        // Pass all attributes from the custom element to the button\n        for (const attr of this.attributes) {\n            if (\n                attr.name !== 'class' &&\n                attr.name !== 'checked' &&\n                attr.name !== 'disabled'\n            ) {\n                switchElement.setAttribute(attr.name, attr.value);\n            }\n        }\n\n        // Create and append the thumb element\n        const thumbElement = document.createElement('span');\n        thumbElement.className = 'pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0';\n        switchElement.appendChild(thumbElement);\n\n        // Set disabled state if necessary\n        if (disabled) {\n            switchElement.setAttribute('aria-disabled', 'true');\n            switchElement.disabled = true;\n        }\n\n        // Add event listeners\n        switchElement.addEventListener('click', this.toggle.bind(this));\n        switchElement.addEventListener('keydown', this.handleKeyDown.bind(this));\n\n        // Store references\n        this.switchBtn = switchElement;\n        this.switchThumb = thumbElement;\n\n        // Replace the custom element with the newly created switch\n        this.replaceWith(switchElement);\n\n        // Update thumb position\n        this.updateThumbPosition();\n    }\n\n    toggle() {\n        if (this.switchBtn.disabled) return;\n\n        const isChecked = this.switchBtn.getAttribute('aria-checked') === 'true';\n        this.switchBtn.setAttribute('aria-checked', !isChecked);\n        this.switchBtn.setAttribute(\n            'data-state',\n            isChecked ? 'unchecked' : 'checked',\n        );\n        this.switchBtn.value = isChecked ? 'off' : 'on';\n        this.updateThumbPosition();\n        this.dispatchEvent(\n            new CustomEvent('change', { detail: { checked: !isChecked } }),\n        );\n    }\n\n    handleKeyDown(event) {\n        if (event.key === ' ' || event.key === 'Enter') {\n            event.preventDefault();\n            this.toggle();\n        }\n    }\n\n    updateThumbPosition() {\n        const isChecked = this.switchBtn.getAttribute('aria-checked') === 'true';\n        this.switchThumb.setAttribute('data-state', isChecked ? 'checked' : 'unchecked');\n    }\n\n    static get observedAttributes() {\n        return ['checked', 'disabled'];\n    }\n\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (!this.switchBtn) return;\n\n        if (name === 'checked') {\n            const isChecked = newValue !== null;\n            this.switchBtn.setAttribute('aria-checked', isChecked);\n            this.switchBtn.setAttribute(\n                'data-state',\n                isChecked ? 'checked' : 'unchecked',\n            );\n            this.switchBtn.value = isChecked ? 'on' : 'off';\n            this.updateThumbPosition();\n        } else if (name === 'disabled') {\n            const isDisabled = newValue !== null;\n            this.switchBtn.setAttribute('aria-disabled', isDisabled);\n            this.switchBtn.disabled = isDisabled;\n        }\n    }\n}"],"names":["Switch","_classCallCheck","_callSuper","this","arguments","_inherits","_wrapNativeSuper","HTMLElement","key","get","value","checked","hasAttribute","disabled","userClass","getAttribute","switchElement","document","createElement","setAttribute","className","concat","trim","_step","_iterator","_createForOfIteratorHelper","attributes","s","n","done","attr","name","err","e","f","thumbElement","appendChild","addEventListener","toggle","bind","handleKeyDown","switchBtn","switchThumb","replaceWith","updateThumbPosition","isChecked","dispatchEvent","CustomEvent","detail","event","preventDefault","oldValue","newValue","isDisabled"],"mappings":"s8FAAaA,IAAAA,aAAM,SAAAA,IAAA,mGAAAC,MAAAD,GAAAE,EAAAC,KAAAH,EAAAI,UAAA,CAAA,4RAAAC,CAAAL,EAoFdM,EApFuBC,gBAATP,IAuGd,CAAA,CAAAQ,IAAA,qBAAAC,IArBD,WACI,MAAO,CAAC,UAAW,WACvB,OApFe,CAAA,CAAAD,IAAA,oBAAAE,MACf,WACI,IAAMC,EAAUR,KAAKS,aAAa,WAC5BC,EAAWV,KAAKS,aAAa,YAC7BE,EAAYX,KAAKY,aAAa,UAAY,GAG1CC,EAAgBC,SAASC,cAAc,UAG7CF,EAAcG,aAAa,OAAQ,UACnCH,EAAcG,aAAa,OAAQ,UACnCH,EAAcG,aAAa,eAAgBR,GAC3CK,EAAcG,aAAa,aAAcR,EAAU,UAAY,aAC/DK,EAAcG,aAAa,QAASR,EAAU,KAAO,OACrDK,EAAcI,UAAY,sXAAAC,OAAsXP,GAAYQ,OAE5Z,IACkCC,EADlCC,EAAAC,EACmBtB,KAAKuB,YAAU,IAAlC,IAAAF,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MAAoC,CAAA,IAAzBC,EAAIP,EAAAb,MAEO,UAAdoB,EAAKC,MACS,YAAdD,EAAKC,MACS,aAAdD,EAAKC,MAELf,EAAcG,aAAaW,EAAKC,KAAMD,EAAKpB,MAEnD,CAEA,CAAA,MAAAsB,GAAAR,EAAAS,EAAAD,EAAA,CAAA,QAAAR,EAAAU,GAAA,CACA,IAAMC,EAAelB,SAASC,cAAc,QAC5CiB,EAAaf,UAAY,6KACzBJ,EAAcoB,YAAYD,GAGtBtB,IACAG,EAAcG,aAAa,gBAAiB,QAC5CH,EAAcH,UAAW,GAI7BG,EAAcqB,iBAAiB,QAASlC,KAAKmC,OAAOC,KAAKpC,OACzDa,EAAcqB,iBAAiB,UAAWlC,KAAKqC,cAAcD,KAAKpC,OAGlEA,KAAKsC,UAAYzB,EACjBb,KAAKuC,YAAcP,EAGnBhC,KAAKwC,YAAY3B,GAGjBb,KAAKyC,qBACT,GAAC,CAAApC,IAAA,SAAAE,MAED,WACI,IAAIP,KAAKsC,UAAU5B,SAAnB,CAEA,IAAMgC,EAA4D,SAAhD1C,KAAKsC,UAAU1B,aAAa,gBAC9CZ,KAAKsC,UAAUtB,aAAa,gBAAiB0B,GAC7C1C,KAAKsC,UAAUtB,aACX,aACA0B,EAAY,YAAc,WAE9B1C,KAAKsC,UAAU/B,MAAQmC,EAAY,MAAQ,KAC3C1C,KAAKyC,sBACLzC,KAAK2C,cACD,IAAIC,YAAY,SAAU,CAAEC,OAAQ,CAAErC,SAAUkC,KAXvB,CAajC,GAAC,CAAArC,IAAA,gBAAAE,MAED,SAAcuC,GACQ,MAAdA,EAAMzC,KAA6B,UAAdyC,EAAMzC,MAC3ByC,EAAMC,iBACN/C,KAAKmC,SAEb,GAAC,CAAA9B,IAAA,sBAAAE,MAED,WACI,IAAMmC,EAA4D,SAAhD1C,KAAKsC,UAAU1B,aAAa,gBAC9CZ,KAAKuC,YAAYvB,aAAa,aAAc0B,EAAY,UAAY,YACxE,GAAC,CAAArC,IAAA,2BAAAE,MAMD,SAAyBqB,EAAMoB,EAAUC,GACrC,GAAKjD,KAAKsC,UAEV,GAAa,YAATV,EAAoB,CACpB,IAAMc,EAAyB,OAAbO,EAClBjD,KAAKsC,UAAUtB,aAAa,eAAgB0B,GAC5C1C,KAAKsC,UAAUtB,aACX,aACA0B,EAAY,UAAY,aAE5B1C,KAAKsC,UAAU/B,MAAQmC,EAAY,KAAO,MAC1C1C,KAAKyC,qBACT,MAAO,GAAa,aAATb,EAAqB,CAC5B,IAAMsB,EAA0B,OAAbD,EACnBjD,KAAKsC,UAAUtB,aAAa,gBAAiBkC,GAC7ClD,KAAKsC,UAAU5B,SAAWwC,CAC9B,CACJ,+FAnBC"}