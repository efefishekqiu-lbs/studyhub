{"version":3,"file":"tabs.js","sources":["../../src/tabs.js"],"sourcesContent":["export default class Tabs {\n    constructor(element) {\n        this.root = element;\n        this.tabsList = this.root.querySelector('[data-tabs-list]');\n        this.tabsTriggers = Array.from(this.root.querySelectorAll('[data-tabs-trigger]'))\n            .filter(trigger => trigger.closest('[data-tabs]') === this.root);\n        this.tabsContents = Array.from(this.root.querySelectorAll('[data-tabs-content]'))\n            .filter(content => content.closest('[data-tabs]') === this.root);\n        this.orientation = this.root.getAttribute('data-tabs-orientation') || 'horizontal';\n        this.setupAccessibility();\n        this.setupEventListeners();\n        this.activateTab(this.tabsTriggers[0], false);\n    }\n\n    generateId(prefix) {\n        return `${prefix}-${Math.random().toString(36).slice(2, 11)}`;\n    }\n\n    setAriaAttributes(element, attrs) {\n        Object.entries(attrs).forEach(([key, value]) => element?.setAttribute(key, value));\n    }\n\n    setupAccessibility() {\n        this.setAriaAttributes(this.tabsList, {\n            role: 'tablist',\n            'aria-orientation': this.orientation\n        });\n\n        this.tabsTriggers.forEach((trigger, index) => {\n            const id = this.generateId('tab');\n            const panelId = this.generateId('tabpanel');\n\n            this.setAriaAttributes(trigger, {\n                id,\n                role: 'tab',\n                tabindex: index === 0 ? '0' : '-1',\n                'aria-selected': index === 0 ? 'true' : 'false',\n                'aria-controls': panelId,\n                'data-state': index === 0 ? 'active' : ''\n            });\n\n            this.setAriaAttributes(this.tabsContents[index], {\n                id: panelId,\n                role: 'tabpanel',\n                tabindex: '0',\n                'aria-labelledby': id,\n                hidden: index !== 0,\n                'data-state': index === 0 ? 'active' : ''\n            });\n        });\n    }\n\n    setupEventListeners() {\n        this.tabsTriggers.forEach(trigger => {\n            trigger.addEventListener('click', () => this.activateTab(trigger, true));\n            trigger.addEventListener('keydown', (e) => this.handleKeyDown(e));\n        });\n    }\n\n    activateTab(tab, shouldFocus = true) {\n        this.tabsTriggers.forEach((t, index) => {\n            const isActive = t === tab;\n            this.setAriaAttributes(t, {\n                'aria-selected': isActive.toString(),\n                'tabindex': isActive ? '0' : '-1',\n                'data-state': isActive ? 'active' : ''\n            });\n\n            const panel = this.tabsContents[index];\n            panel.hidden = !isActive;\n            panel.setAttribute('data-state', isActive ? 'active' : '');\n        });\n\n        if (shouldFocus) {\n            tab.focus();\n        }\n    }\n\n    handleKeyDown(event) {\n        const trigger = event.target;\n        const triggerList = this.tabsTriggers;\n        const index = triggerList.indexOf(trigger);\n\n        const dir = this.orientation === 'vertical' ? {\n            ArrowUp: -1,\n            ArrowDown: 1\n        } : {\n            ArrowLeft: -1,\n            ArrowRight: 1\n        };\n\n        if (dir[event.key] !== undefined) {\n            event.preventDefault();\n            const newIndex = (index + dir[event.key] + triggerList.length) % triggerList.length;\n            this.activateTab(triggerList[newIndex], true);\n        } else if (event.key === 'Home') {\n            event.preventDefault();\n            this.activateTab(triggerList[0], true);\n        } else if (event.key === 'End') {\n            event.preventDefault();\n            this.activateTab(triggerList[triggerList.length - 1], true);\n        }\n    }\n}"],"names":[],"mappings":"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"}